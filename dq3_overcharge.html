<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>5.12. ふっかけ店屋</title>
    <link rel="stylesheet" type="text/css" href="dqbook.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="ドラクエ命" />
    <link rel="up" href="dq3.html" title="第 5 章 SFC 版ドラクエ 3 (1996)" />
    <link rel="prev" href="dq3_shops.html" title="5.11. 店屋" />
    <link rel="next" href="dq3_inns.html" title="5.13. 宿屋" />
  </head>
  <body>
    <div class="navigation"><table><tr><td class="online-navigation"><a href="dq3_shops.html" title="5.11. 店屋"><img src="image/docbook/prev.png" alt="戻る" /></a></td><td class="online-navigation"><a href="dq3.html" title="第 5 章 SFC 版ドラクエ 3 (1996)"><img src="image/docbook/up.png" alt="上に戻る" /></a></td><td class="online-navigation"><a href="dq3_inns.html" title="5.13. 宿屋"><img src="image/docbook/next.png" alt="次へ" /></a></td><td>ドラクエ命</td><td class="online-navigation"><a href="index.html" title="ドラクエ命"><img src="image/docbook/home.png" alt="ホーム" /></a></td><td class="online-navigation"><a href="" title=""><img src="image/docbook/index.png" alt="索引" /></a></td></tr></table><b class="navlabel">Previous: </b><a accesskey="p" class="sectref" href="dq3_shops.html">5.11. 店屋</a> <b class="navlabel">Up: </b><a accesskey="u" class="sectref" href="dq3.html">第 5 章 SFC 版ドラクエ 3 (1996)</a> <b class="navlabel">Next: </b><a accesskey="n" class="sectref" href="dq3_inns.html">5.13. 宿屋</a><hr /></div>
    <div class="section">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="dq3.overcharge"></a>5.12. ふっかけ店屋</h2>
          </div>
        </div>
      </div>
      <div class="toc">
        <dl class="toc">
          <dt>
            <span class="section">
              <a href="dq3_overcharge.html#dq3.overcharge.structure">5.12.1. 構造に関する構成要素</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="dq3_overcharge.html#dq3.overcharge.behavior">5.12.2. 振る舞いに関する構成要素</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="dq3_overcharge.html#dq3.overcharge.behavior.C3CF9B">5.12.2.1. サブルーチン <code class="varname">$C3CF9B</code>: ふっかけ店屋</a>
                </span>
              </dt>
            </dl>
          </dd>
        </dl>
      </div>
      <p>
本節ではアッサラームの街に二軒しかないふっかけ店屋について述べる。
標準の店屋については <a class="xref" href="dq3_shops.html" title="5.11. 店屋">5.11 店屋</a> で述べる。
</p>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="dq3.overcharge.structure"></a>5.12.1. 構造に関する構成要素</h3>
            </div>
          </div>
        </div>
        <p>
ふっかけ店屋を表現するためのデータ構造は標準的な店屋のそれと変わらない。
<a class="xref" href="dq3_shops.html#dq3.shops.structure.C30900" title="5.11.1.1. 構造体 $C30900: 店屋">5.11.1.1 構造体 <code class="varname">$C30900</code>: 店屋</a> を参照。
</p>
        <p>
データによると、北西の店舗が武器と防具の店に、西の店舗は道具屋にそれぞれ分類されていることがわかる。
</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="dq3.overcharge.behavior"></a>5.12.2. 振る舞いに関する構成要素</h3>
            </div>
          </div>
        </div>
        <p>
ふっかけ店屋に関係する振る舞いを述べる。
</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title"><a id="dq3.overcharge.behavior.C3CF9B"></a>5.12.2.1. サブルーチン <code class="varname">$C3CF9B</code>: ふっかけ店屋</h4>
              </div>
            </div>
          </div>
          <p>
ふっかけ店屋の処理を実装しているのはサブルーチン <code class="varname">$C1A92E</code> だ。
以下にこの処理の要点を挙げる。
</p>
          <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
              <li class="listitem">
                <p>
      商品リストの初期化には標準の店屋処理でも利用されるサブルーチン <code class="varname">$C3CEC6</code> を利用する。
    </p>
              </li>
              <li class="listitem">
                <p>
      最初の店員の質問にどのように応じても、結局商品を見せられるはめになる。
    </p>
              </li>
              <li class="listitem">
                <p>
      商品を選択すると初めて価格を標準価格の 16 倍を計算する。
    </p>
              </li>
              <li class="listitem">
                <p>
      このあと最大 4 回ディスカウントに応じてくれるが、どの段階で買い上げてもよい。なお、所持金不足のときには店員が驚く。
    </p>
              </li>
              <li class="listitem">
                <p>
      標準店屋とは異なり、一度物品を購入すると引き続き何かをするわけではなく、店屋処理全体が終了する。
    </p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="navigation"><hr /><table><tr><td class="online-navigation"><a href="dq3_shops.html" title="5.11. 店屋"><img src="image/docbook/prev.png" alt="戻る" /></a></td><td class="online-navigation"><a href="dq3.html" title="第 5 章 SFC 版ドラクエ 3 (1996)"><img src="image/docbook/up.png" alt="上に戻る" /></a></td><td class="online-navigation"><a href="dq3_inns.html" title="5.13. 宿屋"><img src="image/docbook/next.png" alt="次へ" /></a></td><td>ドラクエ命</td><td class="online-navigation"><a href="index.html" title="ドラクエ命"><img src="image/docbook/home.png" alt="ホーム" /></a></td><td class="online-navigation"><a href="" title=""><img src="image/docbook/index.png" alt="索引" /></a></td></tr></table><b class="navlabel">Previous: </b><a accesskey="p" class="sectref" href="dq3_shops.html">5.11. 店屋</a> <b class="navlabel">Up: </b><a accesskey="u" class="sectref" href="dq3.html">第 5 章 SFC 版ドラクエ 3 (1996)</a> <b class="navlabel">Next: </b><a accesskey="n" class="sectref" href="dq3_inns.html">5.13. 宿屋</a></div>
  </body>
</html>
