<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>4.9. おしゃれなカジヤ</title>
    <link rel="stylesheet" type="text/css" href="dqbook.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="ドラクエ命" />
    <link rel="up" href="dq6.html" title="第 4 章 SFC 版ドラクエ 6 (1995)" />
    <link rel="prev" href="dq6_chapels.html" title="4.8. 教会" />
    <link rel="next" href="dq6_bank.html" title="4.10. ゴールド銀行" />
  </head>
  <body>
    <div class="navigation"><table><tr><td class="online-navigation"><a href="dq6_chapels.html" title="4.8. 教会"><img src="image/docbook/prev.png" alt="戻る" /></a></td><td class="online-navigation"><a href="dq6.html" title="第 4 章 SFC 版ドラクエ 6 (1995)"><img src="image/docbook/up.png" alt="上に戻る" /></a></td><td class="online-navigation"><a href="dq6_bank.html" title="4.10. ゴールド銀行"><img src="image/docbook/next.png" alt="次へ" /></a></td><td>ドラクエ命</td><td class="online-navigation"><a href="index.html" title="ドラクエ命"><img src="image/docbook/home.png" alt="ホーム" /></a></td><td class="online-navigation"><a href="" title=""><img src="image/docbook/index.png" alt="索引" /></a></td></tr></table><b class="navlabel">Previous: </b><a accesskey="p" class="sectref" href="dq6_chapels.html">4.8. 教会</a> <b class="navlabel">Up: </b><a accesskey="u" class="sectref" href="dq6.html">第 4 章 SFC 版ドラクエ 6 (1995)</a> <b class="navlabel">Next: </b><a accesskey="n" class="sectref" href="dq6_bank.html">4.10. ゴールド銀行</a><hr /></div>
    <div class="section">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="dq6.forges"></a>4.9. おしゃれなカジヤ</h2>
          </div>
        </div>
      </div>
      <div class="toc">
        <dl class="toc">
          <dt>
            <span class="section">
              <a href="dq6_forges.html#dq6.forges.structure">4.9.1. データ</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="dq6_forges.html#dq6.forges.structure.C58ECF">4.9.1.1. 対応 <code class="varname">$C58ECF</code>: 鍛造前後のアイテムの対応</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="dq6_forges.html#dq6.forges.behavior">4.9.2. 処理手順</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="dq6_forges.html#dq6.forges.behavior.C1F9F8">4.9.2.1. サブルーチン <code class="varname">$C1F9F8</code>: おしゃれなカジヤ共通処理</a>
                </span>
              </dt>
            </dl>
          </dd>
        </dl>
      </div>
      <p>
本節ではおしゃれなカジヤに関係するデータ構造と処理について述べる。
</p>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="dq6.forges.structure"></a>4.9.1. データ</h3>
            </div>
          </div>
        </div>
        <p>
おしゃれなカジヤに関係があるデータの構造について記す。
</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title"><a id="dq6.forges.structure.C58ECF"></a>4.9.1.1. 対応 <code class="varname">$C58ECF</code>: 鍛造前後のアイテムの対応</h4>
              </div>
            </div>
          </div>
          <p>
カジヤが鍛え直すことのできる装備品のアイテム ID の対応関係がアドレス <code class="varname">$C58ECF</code> に指定されている。
これは鍛造前後のアイテム ID の組の配列という形式で表現されている。
念のため対応表の各項目のメモリレイアウトを示す：
</p>
          <div class="table">
            <a id="table.dq6.C58ECF"></a>
            <p class="title">
              <strong>表 4.35 対応表 $C58ECF</strong>
            </p>
            <div class="table-contents">
              <table id="table.dq6.C58ECF" class="lighttable">
                <thead>
                  <tr>
                    <th>オフセット</th>
                    <th>桁</th>
                    <th>属性</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <code class="literal">#$00</code>
                    </td>
                    <td>
                      <code class="literal">#$00FF</code>
                    </td>
                    <td>鍛造前のアイテム</td>
                  </tr>
                  <tr>
                    <td>
                      <code class="literal">#$01</code>
                    </td>
                    <td>
                      <code class="literal">#$00FF</code>
                    </td>
                    <td>鍛造後のアイテム</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break" />
          <p>
データを <a class="xref" href="appendix_b.html" title="付録 B データ">付録 B <em>データ</em></a> に収録している。アイテムデータも併せて参考にして欲しい。
</p>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="dq6.forges.behavior"></a>4.9.2. 処理手順</h3>
            </div>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title"><a id="dq6.forges.behavior.C1F9F8"></a>4.9.2.1. サブルーチン <code class="varname">$C1F9F8</code>: おしゃれなカジヤ共通処理</h4>
              </div>
            </div>
          </div>
          <p>
以下、要点を示す：
</p>
          <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
              <li class="listitem">
                <p>
      カジヤが<span class="quote">「<span class="quote">こりゃひどい</span>」</span>と評する条件は、対象アイテムのかっこよさ属性値が 15 未満であることだ。かっこよさが負の場合も含む。
    </p>
              </li>
              <li class="listitem">
                <p>
      カジヤの手間賃は鍛造前後のアイテムの価格属性値の差の 4 倍となる。減算では鍛造後のアイテム価格から鍛造前のアイテム価格を引く。
    </p>
              </li>
              <li class="listitem">
                <p>
      かっこよさの変化に関するメッセージは、キャラクターが鍛造直前に対象アイテムを装備していたかどうかで異なる。
    </p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="navigation"><hr /><table><tr><td class="online-navigation"><a href="dq6_chapels.html" title="4.8. 教会"><img src="image/docbook/prev.png" alt="戻る" /></a></td><td class="online-navigation"><a href="dq6.html" title="第 4 章 SFC 版ドラクエ 6 (1995)"><img src="image/docbook/up.png" alt="上に戻る" /></a></td><td class="online-navigation"><a href="dq6_bank.html" title="4.10. ゴールド銀行"><img src="image/docbook/next.png" alt="次へ" /></a></td><td>ドラクエ命</td><td class="online-navigation"><a href="index.html" title="ドラクエ命"><img src="image/docbook/home.png" alt="ホーム" /></a></td><td class="online-navigation"><a href="" title=""><img src="image/docbook/index.png" alt="索引" /></a></td></tr></table><b class="navlabel">Previous: </b><a accesskey="p" class="sectref" href="dq6_chapels.html">4.8. 教会</a> <b class="navlabel">Up: </b><a accesskey="u" class="sectref" href="dq6.html">第 4 章 SFC 版ドラクエ 6 (1995)</a> <b class="navlabel">Next: </b><a accesskey="n" class="sectref" href="dq6_bank.html">4.10. ゴールド銀行</a></div>
  </body>
</html>
