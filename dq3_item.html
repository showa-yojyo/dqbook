<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>5.23. アイテム解析</title>
    <link rel="stylesheet" type="text/css" href="dqbook.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="ドラクエ命" />
    <link rel="up" href="dq3.html" title="第 5 章 SFC 版ドラクエ 3 (1996)" />
    <link rel="prev" href="dq3_medal.html" title="5.22. メダルおじさん解析" />
    <link rel="next" href="dq3_class.html" title="5.24. 職業構造体解析" />
  </head>
  <body>
    <div class="navigation"><table><tr><td class="online-navigation"><a href="dq3_medal.html" title="5.22. メダルおじさん解析"><img src="image/docbook/prev.png" alt="戻る" /></a></td><td class="online-navigation"><a href="dq3.html" title="第 5 章 SFC 版ドラクエ 3 (1996)"><img src="image/docbook/up.png" alt="上に戻る" /></a></td><td class="online-navigation"><a href="dq3_class.html" title="5.24. 職業構造体解析"><img src="image/docbook/next.png" alt="次へ" /></a></td><td>ドラクエ命</td><td class="online-navigation"><a href="index.html" title="ドラクエ命"><img src="image/docbook/home.png" alt="ホーム" /></a></td><td class="online-navigation"><a href="" title=""><img src="image/docbook/index.png" alt="索引" /></a></td></tr></table><b class="navlabel">Previous: </b><a accesskey="p" class="sectref" href="dq3_medal.html">5.22. メダルおじさん解析</a> <b class="navlabel">Up: </b><a accesskey="u" class="sectref" href="dq3.html">第 5 章 SFC 版ドラクエ 3 (1996)</a> <b class="navlabel">Next: </b><a accesskey="n" class="sectref" href="dq3_class.html">5.24. 職業構造体解析</a><hr /></div>
    <div class="section">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="dq3.item"></a>5.23. アイテム解析</h2>
          </div>
        </div>
      </div>
      <div class="toc">
        <dl class="toc">
          <dt>
            <span class="section">
              <a href="dq3_item.html#dq3.item.hack">5.23.1. 解析</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="dq3_item.html#dq3.item.hack.C40043">5.23.1.1. <code class="varname">$C40043</code> アイテム構造体</a>
                </span>
              </dt>
            </dl>
          </dd>
        </dl>
      </div>
      <a id="term.dq3.item" class="indexterm"></a>
      <p>
本章の目的は、すべてのアイテムデータを抽出し、
構造体の各フィールドを完全解析することである。
</p>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="dq3.item.hack"></a>5.23.1. 解析</h3>
            </div>
          </div>
        </div>
        <p>
アイテム解析は定番中の定番なので、すでに先人の手が入っている
（例えば <a class="xref" href="appendix_a.html#dqref.url1" title="Index of /~s-endo/">[<abbr class="abbrev">URL1</abbr>]</a>）。
基礎データは解析済であるので、以下ではより細部の解析を試みる。
</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title"><a id="dq3.item.hack.C40043"></a>5.23.1.1. <code class="varname">$C40043</code> アイテム構造体</h4>
              </div>
            </div>
          </div>
          <p>
	アドレス <code class="varname">$C40043</code> に全アイテムのデータが定義されている。
	1 アイテム当たりが占めるデータ量は <code class="literal">#$0013</code> byte であり、
	これが <code class="literal">#$E5</code> (229) 個配列されている。
</p>
          <p>
	アイテム構造体のメモリレイアウトは以下のようになっている。
</p>
          <div class="table">
            <a id="table.dq3.C40043"></a>
            <p class="title">
              <strong>表 5.34 $C40043 アイテム構造体</strong>
            </p>
            <div class="table-contents">
              <table id="table.dq3.C40043" class="memorylayout">
                <colgroup>
		<col width="12%" />
		<col span="7" width="11%" />
	</colgroup>
                <thead>
                  <tr><th>Byte:Bit</th>
			<th>80</th>
			<th>40</th>
			<th>20</th>
			<th>10</th>
			<th>08</th>
			<th>04</th>
			<th>02</th>
			<th>01</th>
		</tr>
                </thead>
                <tbody>
                  <tr><th>00</th>
			<td colspan="8" rowspan="2">名前文字列 ID (2byte)</td>
		</tr>
                  <tr>
                    <th>01</th>
                  </tr>
                  <tr><th>02</th>
			<td colspan="8">アイテム種別 (1byte)</td>
		</tr>
                  <tr><th>03</th>
			<td colspan="8">装備パラメータ種別 (1byte)</td>
		</tr>
                  <tr><th>04</th>
			<td colspan="8" rowspan="2">装備によるパラメータ増加値 (2byte)</td>
		</tr>
                  <tr>
                    <th>05</th>
                  </tr>
                  <tr><th>06</th>
			<td colspan="8">職業による装備可能性（次のバイトの下位に続く）</td>
		</tr>
                  <tr><th>07</th>
			<td>整理フラグ</td>
			<td colspan="2">性別 (2bit)</td>
			<td>呪いフラグ</td>
			<td>希少フラグ</td>
			<td>可処分フラグ</td>
			<td>消耗フラグ</td>
			<td>（続き）</td>
		</tr>
                  <tr><th>08</th>
			<td colspan="8">戦闘行動 ID（次のバイト下位へ続く）</td>
		</tr>
                  <tr><th>09</th>
			<td>大事フラグ</td>
			<td colspan="6"><code class="varname">$FEE82C</code> 構造体 ID (6bit)</td>
			<td>（続き）</td>
		</tr>
                  <tr><th>0A</th>
			<td colspan="8" rowspan="3">価格 (3byte)</td>
		</tr>
                  <tr>
                    <th>0B</th>
                  </tr>
                  <tr>
                    <th>0C</th>
                  </tr>
                  <tr><th>0D</th>
			<td colspan="8" rowspan="2">職業による使用可能性 (2byte)</td>
		</tr>
                  <tr>
                    <th>0E</th>
                  </tr>
                  <tr><th>0F</th>
			<td colspan="8">移動時「つかう」処理 ID (1byte)</td>
		</tr>
                  <tr><th>10</th>
			<td colspan="8">「みる」「みせる」処理 ID (1byte)</td>
		</tr>
                  <tr><th>11</th>
			<td colspan="7">アイコン ID (7bit)</td>
			<td>謎ビット</td>
		</tr>
                  <tr><th>12</th>
			<td colspan="8">性格 ID (1byte)</td>
		</tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break" />
          <div class="glosslist">
            <dl>
              <dt>
                <span class="glossterm">名前文字列 ID</span>
              </dt>
              <dd class="glossdef">
                <p>
			アイテムの名前を表す<a class="link" href="dq3_string.html" title="5.3. 文字列">文字列 ID</a> である。
		</p>
              </dd>
              <dt>
                <span class="glossterm">アイテム種別</span>
              </dt>
              <dd class="glossdef">
                <p>
			アイテムの種類を表す数値である。以下のようになっている。
			</p>
                <div class="table">
                  <a id="table.dq3.C40043.kind"></a>
                  <p class="title">
                    <strong>表 5.35 アイテム種別</strong>
                  </p>
                  <div class="table-contents">
                    <table id="table.dq3.C40043.kind" class="lighttable">
                      <thead>
                        <tr>
                          <th>値</th>
                          <th>意味</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>
                            <code class="code">0</code>
                          </td>
                          <td>ぶき          </td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">1</code>
                          </td>
                          <td>よろい        </td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">2</code>
                          </td>
                          <td>たて          </td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">3</code>
                          </td>
                          <td>かぶと        </td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">4</code>
                          </td>
                          <td>そうしょくひん</td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">5</code>
                          </td>
                          <td>どうぐ        </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <p><br class="table-break" />
		</p>
              </dd>
              <dt>
                <span class="glossterm">装備パラメータ種別</span>
              </dt>
              <dd class="glossdef">
                <p>
			あるキャラクターがその道具を装備することができるとき、
			装備することによって、
			そのキャラクターの増加するパラメータが何であるかを示す値である。

			</p>
                <div class="table">
                  <a id="table.dq3.C40043.equip.param"></a>
                  <p class="title">
                    <strong>表 5.36 装備パラメータ種別</strong>
                  </p>
                  <div class="table-contents">
                    <table id="table.dq3.C40043.equip.param" class="lighttable">
                      <thead>
                        <tr>
                          <th>値</th>
                          <th>増加するパラメータ</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>
                            <code class="code">0</code>
                          </td>
                          <td>（なし）      </td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">1</code>
                          </td>
                          <td>こうげきりょく</td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">2</code>
                          </td>
                          <td>すばやさ      </td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">3</code>
                          </td>
                          <td>しゅびりょく  </td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">4</code>
                          </td>
                          <td>かしこさ      </td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">5</code>
                          </td>
                          <td>うんのよさ    </td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">6</code>
                          </td>
                          <td>たいりょく    </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <p><br class="table-break" />
		</p>
              </dd>
              <dt>
                <span class="glossterm">装備によるパラメータ増加値</span>
              </dt>
              <dd class="glossdef">
                <p>
			あるキャラクターがその道具を装備することができるとき、
			装備することによって、
			そのキャラクターのパラメータがどれだけ増加するかを示す値である。
		</p>
              </dd>
              <dt>
                <span class="glossterm">職業による装備可能性</span>
              </dt>
              <dd class="glossdef">
                <p>
			このアイテムが装備可能であるとき、
			キャラクターの職業によって装備ができるか、そうでないかを示す値である。
			1 ビットのフィールドが職業一つに対応しており、
			このフィールドの値が 1 のときに限り装備可能である。
		</p>
                <p>
			</p>
                <div class="table">
                  <a id="table.dq3.C40043.equipment"></a>
                  <p class="title">
                    <strong>表 5.37 アイテム構造体 職業による装備可能性</strong>
                  </p>
                  <div class="table-contents">
                    <table id="table.dq3.C40043.equipment" class="memorylayout">
                      <colgroup>
					<col width="12%" />
					<col span="7" width="11%" />
				</colgroup>
                      <thead>
                        <tr><th>Byte:Bit</th>
						<th>80</th>
						<th>40</th>
						<th>20</th>
						<th>10</th>
						<th>08</th>
						<th>04</th>
						<th>02</th>
						<th>01</th>
					</tr>
                      </thead>
                      <tbody>
                        <tr><th>06</th>
						<td>遊び人</td>
						<td>商人</td>
						<td>賢者</td>
						<td>武闘家</td>
						<td>僧侶</td>
						<td>魔法使い</td>
						<td>戦士</td>
						<td>勇者</td>
					</tr>
                        <tr><th>07</th>
						<td colspan="7"></td>
						<td>盗賊</td>
					</tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <p><br class="table-break" />
		</p>
              </dd>
              <dt>
                <span class="glossterm">消耗フラグ</span>
              </dt>
              <dd class="glossdef">
                <p>
			その道具に対する「つかう」コマンドが成功したときに、
			その道具を消耗しないのであれば 1 が、
			そうでなければ 0 が格納されている。
			
			例 「やくそう」は 0 であるが「けんじゃのいし」は 1 である。
			
			例 「めざめのこな」等は 1 である。
		</p>
              </dd>
              <dt>
                <span class="glossterm">可処分フラグ</span>
              </dt>
              <dd class="glossdef">
                <p>
			その道具を「すてる」ことができるかどうかを示す値である。
			1 ならば捨てられるが、0 ならば捨てることができない。
		</p>
              </dd>
              <dt>
                <span class="glossterm">希少フラグ</span>
              </dt>
              <dd class="glossdef">
                <p>
			その道具がいわゆるレアアイテムであるかどうかを示す値である。
			1 ならばレアであり、
			店屋でその道具を売ろうとすると、店屋から確認の問い合わせを食らう。
			
			プログラムの中では上記の可処分フラグを優先的に参照する場合が多いようだ。
		</p>
              </dd>
              <dt>
                <span class="glossterm">呪いフラグ</span>
              </dt>
              <dd class="glossdef">
                <p>
			あるキャラクターがその道具を装備できるとする。
			もしその道具を装備した場合、呪われるか否かを示す値である。
			このフィールドは 1 ならば、呪いがかかっている道具である。
			
			ちなみに、そのような道具は 8 種類存在する。
		</p>
              </dd>
              <dt>
                <span class="glossterm">性別</span>
              </dt>
              <dd class="glossdef">
                <p>
			その道具を装備するために、
			キャラクターに性別に関する条件がつくか否かを示す値である。

			</p>
                <div class="table">
                  <a id="table.dq3.C40043.male.female"></a>
                  <p class="title">
                    <strong>表 5.38 性別</strong>
                  </p>
                  <div class="table-contents">
                    <table id="table.dq3.C40043.male.female" class="lighttable">
                      <thead>
                        <tr>
                          <th>値</th>
                          <th>意味</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>
                            <code class="code">0</code>
                          </td>
                          <td>おとこ専用</td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">1</code>
                          </td>
                          <td>おんな専用</td>
                        </tr>
                        <tr>
                          <td>
                            <code class="code">2</code>
                          </td>
                          <td>指定なし  </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <p><br class="table-break" />

			ちなみに装備用のアイテムではないので問題はないのだが、
			「あたまがさえるほん」のこのフィールドの値はなぜか 1 である。
		</p>
              </dd>
              <dt>
                <span class="glossterm">整理フラグ</span>
              </dt>
              <dd class="glossdef">
                <p>
			「さくせん→どうぐせいり→だれの」コマンドにおいて、
			その道具がキャラクターの持ち物リストにあるとき、
			それをふくろに収納するかどうかを示す値である。
			1 ならばふくろに移すが、0 ならばそのままキャラクターの持ち物リストに残す。
		</p>
              </dd>
              <dt>
                <span class="glossterm">戦闘行動 ID</span>
              </dt>
              <dd class="glossdef">
                <p>
			戦闘中にその道具を「つかう」と起こる戦闘行動の ID である。
			特に効果のない道具の値は <code class="literal">#$6B</code> であることを憶えておくとよい。
		</p>
              </dd>
              <dt>
                <span class="glossterm">大事フラグ</span>
              </dt>
              <dd class="glossdef">
                <p>
			「どうぐ」コマンドでキャラクターの持ち物リストをカーソルが動くときに、
			画面右上に小さく表示するウィンドウの中身を
			「だいじなもの／ひつようなときにつかおう」
			にするかどうかを示す値である。
		</p>
              </dd>
              <dt>
                <span class="glossterm"><code class="varname">$FEE82C</code> 構造体 ID</span>
              </dt>
              <dd class="glossdef">
                <p>
			<a class="xref" href="appendix_a.html#dqref.url3" title="DQバイナリ改造 @Wiki">[<abbr class="abbrev">URL3</abbr>]</a> によると、
			戦闘時のグラフィックとか音とかを定義する構造体のデータ ID と思われる。
			詳細調査中。
		</p>
              </dd>
              <dt>
                <span class="glossterm">価格</span>
              </dt>
              <dd class="glossdef">
                <p>
			その道具を店屋で買うときに必要な価格である。
		</p>
              </dd>
              <dt>
                <span class="glossterm">職業による使用可能性</span>
              </dt>
              <dd class="glossdef">
                <p>
			キャラクターの職業によって、
			このアイテムを戦闘中に「つかう」ことができるかどうかを示す値である。
			1 ビットのフィールドが職業一つに対応しており、
			このフィールドの値が 1 のときに限り装備可能である。
		</p>
                <p>
			</p>
                <div class="table">
                  <a id="table.dq3.C40043.availability"></a>
                  <p class="title">
                    <strong>表 5.39 アイテム構造体 職業による使用可能性</strong>
                  </p>
                  <div class="table-contents">
                    <table id="table.dq3.C40043.availability" class="memorylayout">
                      <colgroup>
					<col width="12%" />
					<col span="7" width="11%" />
				</colgroup>
                      <thead>
                        <tr><th>Byte:Bit</th>
						<th>80</th>
						<th>40</th>
						<th>20</th>
						<th>10</th>
						<th>08</th>
						<th>04</th>
						<th>02</th>
						<th>01</th>
					</tr>
                      </thead>
                      <tbody>
                        <tr><th>0D</th>
						<td>遊び人</td>
						<td>商人</td>
						<td>賢者</td>
						<td>武闘家</td>
						<td>僧侶</td>
						<td>魔法使い</td>
						<td>戦士</td>
						<td>勇者</td>
					</tr>
                        <tr><th>0E</th>
						<td colspan="7">0</td>
						<td>盗賊</td>
					</tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <p><br class="table-break" />
		</p>
              </dd>
              <dt>
                <span class="glossterm">移動時「つかう」処理 ID</span>
              </dt>
              <dd class="glossdef">
                <p>
			移動時における「つかう」コマンドによる処理を指示する値である。
			端的に言えば<span class="emphasis"><em>ジャンプテーブル <code class="varname">$C30B31</code> のインデックス</em></span>である。
		</p>
                <p>
			「すごろくけん」(ID: <code class="literal">#$00E4</code>) を例を挙げる。
			ダンプによると、このフィールドの値は <code class="literal">#$0058</code> である。
		</p>
                <pre class="programlisting">
C3/0B31:    970DC9  // 0000
C3/0B34:    990DC9  // 0001
C3/0B37:    AB0DC9  // 0002
...
<span class="emphasis"><em>C3/0C39:    161DC9  // 0058</em></span>
</pre>
                <p>
			<code class="varname">$C91D16</code> のコードが「すごろくけん」を移動時に「つかう」処理を実装していることがわかる。
		</p>
                <pre class="programlisting">
C9/1D16:    22D4A8C1    JSR $C1A8D4    <a id="dq3.item.co.1"></a><span><img src="image/docbook/callouts/1.png" alt="1" border="0" /></span>
C9/1D1A:    9A0D
C9/1D1C:    22D4A8C1    JSR $C1A8D4    <a id="dq3.item.co.2"></a><span><img src="image/docbook/callouts/2.png" alt="2" border="0" /></span>
C9/1D20:    9C0D
C9/1D22:    22F740C3    JSR $C340F7
C9/1D26:    18          CLC 
C9/1D27:    6B          RTL
</pre>
                <div class="calloutlist">
                  <table border="0" summary="Callout list">
                    <tr>
                      <td width="5%" valign="top" align="left">
                        <p><a href="#dq3.item.co.1"><span><img src="image/docbook/callouts/1.png" alt="1" border="0" /></span></a> </p>
                      </td>
                      <td valign="top" align="left">
                        <p>
      メッセージ <code class="literal">#$0D9C</code> を表示する。すなわち
      <code class="literal">[C0]は [B5]を[AD]にぎりしめた！[AF][AC]</code>
    </p>
                      </td>
                    </tr>
                    <tr>
                      <td width="5%" valign="top" align="left">
                        <p><a href="#dq3.item.co.2"><span><img src="image/docbook/callouts/2.png" alt="2" border="0" /></span></a> </p>
                      </td>
                      <td valign="top" align="left">
                        <p>
      メッセージ <code class="literal">#$0D9C</code> を表示する。すなわち
      <code class="literal">なんだか 胸が わくわくする。[AC]</code>
    </p>
                      </td>
                    </tr>
                  </table>
                </div>
              </dd>
              <dt>
                <span class="glossterm">「みる」「みせる」処理 ID</span>
              </dt>
              <dd class="glossdef">
                <p>
			パーティに職業が商人であるキャラクターがいるときに、
			道具を「みる」または「みせる」ときの処理を指示する値である。
			端的に言えば<span class="emphasis"><em>ジャンプテーブル <code class="varname">$C30C66</code> のインデックス</em></span>である。
		</p>
                <p>
			以下に「やくそう」(ID: <code class="literal">#$00B8</code>) の「みる」処理のコードを記す。
		</p>
                <pre class="programlisting">
C9/276A:    BFBD25C9    LDA $C925BD,X       <a id="dq3.item.co.11"></a><span><img src="image/docbook/callouts/1.png" alt="1" border="0" /></span>
C9/276E:    225AA9C1    JSR $C1A95A
C9/2772:    BF8925C9    LDA $C92589,X       <a id="dq3.item.co.12"></a><span><img src="image/docbook/callouts/2.png" alt="2" border="0" /></span>
C9/2776:    225AA9C1    JSR $C1A95A
C9/277A:    208127      JSR $2781           <a id="dq3.item.co.13"></a><span><img src="image/docbook/callouts/3.png" alt="3" border="0" /></span>
C9/277D:    20A827      JSR $27A8           <a id="dq3.item.co.14"></a><span><img src="image/docbook/callouts/4.png" alt="4" border="0" /></span>
C9/2780:    6B          RTL
</pre>
                <div class="calloutlist">
                  <table border="0" summary="Callout list">
                    <tr>
                      <td width="5%" valign="top" align="left">
                        <p><a href="#dq3.item.co.11"><span><img src="image/docbook/callouts/1.png" alt="1" border="0" /></span></a> </p>
                      </td>
                      <td valign="top" align="left">
                        <p>
      「やくそう」を鑑定するときには、<code class="varname">X</code> の値は 0 だ。
       従って <code class="varname">$C925BD</code> の値である <code class="literal">#$0E10</code> をメッセージ ID として <code class="varname">A</code> に取る。
       それをサブルーチン <code class="varname">JSR $C1A95A</code> の呼び出しにより表示する。
    </p>
                        <p>
      すなわち、<code class="literal">[CD][C0]「これは 体力を 回復する[AD]くすりのようです。[AF][AC]</code>
      を表示する。
    </p>
                      </td>
                    </tr>
                    <tr>
                      <td width="5%" valign="top" align="left">
                        <p><a href="#dq3.item.co.12"><span><img src="image/docbook/callouts/2.png" alt="2" border="0" /></span></a> </p>
                      </td>
                      <td valign="top" align="left">
                        <p>
      同様にして、メッセージ <code class="literal">#$0DC1</code> を表示する。
      <code class="literal">[CD][C0]「でも いちど使うと[AD]なくなってしまうようですね。[AF][AC]</code>
    </p>
                      </td>
                    </tr>
                    <tr>
                      <td width="5%" valign="top" align="left">
                        <p><a href="#dq3.item.co.13"><span><img src="image/docbook/callouts/3.png" alt="3" border="0" /></span></a> </p>
                      </td>
                      <td valign="top" align="left">
                        <p>
      サブルーチン <code class="varname">$2781</code> を呼び出し、売値鑑定の処理を行う。
    </p>
                      </td>
                    </tr>
                    <tr>
                      <td width="5%" valign="top" align="left">
                        <p><a href="#dq3.item.co.14"><span><img src="image/docbook/callouts/4.png" alt="4" border="0" /></span></a> </p>
                      </td>
                      <td valign="top" align="left">
                        <p>
      サブルーチン <code class="varname">$27A8</code> を呼び出し、呪い鑑定の処理を行う。
    </p>
                      </td>
                    </tr>
                  </table>
                </div>
              </dd>
              <dt>
                <span class="glossterm">謎ビット</span>
              </dt>
              <dd class="glossdef">
                <p>
			いくら解析しても、このフィールドを参照しているコードがない……。
		</p>
              </dd>
              <dt>
                <span class="glossterm">アイコン ID</span>
              </dt>
              <dd class="glossdef">
                <p>
			ダンプリストの観察結果や、
			参照位置周辺の処理（コードで言うとバンク <code class="varname">$C5</code> と <code class="varname">$C6</code> に二箇所ずつある）の流れからすると、
			プレイヤーが「しらべる」コマンドで何らかのアイテムを発見したときや、
			すごろくイベントでアイテムを見つけたときに
			画面上に描画する小さな画像（便宜的にアイコンと呼ぶ）の ID ではないかと思われる。
		</p>
              </dd>
              <dt>
                <span class="glossterm">性格 ID</span>
              </dt>
              <dd class="glossdef">
                <p>
			その道具が装備品であれば、キャラクターがそれを装備したときに変化する性格の性格 ID である。
			
			その道具が本であれば、キャラクターがそれを「つかう」と変化する性格の性格 ID である。
			これはサブルーチン <code class="varname">$C452E3</code> からコードを辿っていくとわかる。
			「エッチなほん」に関しては、サブルーチン <code class="varname">$C45319</code> で性別により性格を振り分けている。
		</p>
              </dd>
            </dl>
          </div>
        </div>
      </div>
    </div>
    <div class="navigation"><hr /><table><tr><td class="online-navigation"><a href="dq3_medal.html" title="5.22. メダルおじさん解析"><img src="image/docbook/prev.png" alt="戻る" /></a></td><td class="online-navigation"><a href="dq3.html" title="第 5 章 SFC 版ドラクエ 3 (1996)"><img src="image/docbook/up.png" alt="上に戻る" /></a></td><td class="online-navigation"><a href="dq3_class.html" title="5.24. 職業構造体解析"><img src="image/docbook/next.png" alt="次へ" /></a></td><td>ドラクエ命</td><td class="online-navigation"><a href="index.html" title="ドラクエ命"><img src="image/docbook/home.png" alt="ホーム" /></a></td><td class="online-navigation"><a href="" title=""><img src="image/docbook/index.png" alt="索引" /></a></td></tr></table><b class="navlabel">Previous: </b><a accesskey="p" class="sectref" href="dq3_medal.html">5.22. メダルおじさん解析</a> <b class="navlabel">Up: </b><a accesskey="u" class="sectref" href="dq3.html">第 5 章 SFC 版ドラクエ 3 (1996)</a> <b class="navlabel">Next: </b><a accesskey="n" class="sectref" href="dq3_class.html">5.24. 職業構造体解析</a></div>
  </body>
</html>
